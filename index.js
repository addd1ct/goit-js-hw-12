import{a as p}from"./assets/vendor-N5iQpiFS.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function s(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(e){if(e.ep)return;e.ep=!0;const n=s(e);fetch(e.href,n)}})();const g="48228691-89796883a04c0782a049fa841",y="https://pixabay.com/api/";async function d(r,t=1,s=15){const o=`${y}?key=${g}&q=${encodeURIComponent(r)}&image_type=photo&orientation=horizontal&safesearch=true&page=${t}&per_page=${s}`;try{return(await p.get(o)).data}catch(e){throw console.err("Error fetching data:",e),error}}function l(r){const t=document.querySelector(".images-container");r.forEach(s=>{const o=document.createElement("img");o.src=s.webformatURL,o.alt=s.tags,t.appendChild(o)})}function c(r){const t=document.querySelector(".load-more");r?t.classList.remove("is-hidden"):t.classList.add("is-hidden")}function f(){const r=document.querySelector(".container"),t=document.createElement("p");t.textContent="We're sorry, but you've reached the end of search results.",r.appendChild(t)}let i=1,a="",m=0;document.addEventListener("DOMContentLoaded",()=>{const r=document.querySelector(".load-more"),t=document.querySelector(".search-form"),s=document.querySelector(".search-input");t.addEventListener("submit",async o=>{if(o.preventDefault(),a=s.value.trim(),a==="")return;c(!1),i=1,document.querySelector(".images-container").innerHTML="";const e=await d(a,i);m=e.totalHits,l(e.hits),c(!0),e.hits.length<15&&(c(!1),f()),h()}),r.addEventListener("click",async()=>{i+=1;const o=await d(a,i);l(o.hits),c(!0),(o.hits.length<15||o.hits.length===m)&&(c(!1),f()),h()})});function h(){const r=document.querySelector(".images-container img");if(r){const t=r.getBoundingClientRect().height;window.scrollBy({top:t*2,behavior:"smooth"})}}
//# sourceMappingURL=index.js.map
