import{a as m}from"./assets/vendor-Einyii5P.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}})();const p="48228691-89796883a04c0782a049fa841",g="https://pixabay.com/api/";async function d(t,o=1,s=15){const n=`${g}?key=${p}&q=${encodeURIComponent(t)}&image_type=photo&orientation=horizontal&safesearch=true&page=${o}&per_page=${s}`;try{return(await m.get(n)).data}catch(e){throw console.err("Error fetching data:",e),e}}function l(t){const o=document.querySelector(".images-container");t.forEach(s=>{const n=document.createElement("img");n.src=s.webformatURL,n.alt=s.tags,o.appendChild(n)})}function u(){const t=document.querySelector(".container"),o=document.createElement("p");o.textContent="We're sorry, but you've reached the end of search results.",t.appendChild(o)}let i=1,c="",f=0;document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".load-more"),o=document.querySelector(".search-form"),s=document.querySelector(".search-input");t.classList.add("is-hidden"),o.addEventListener("submit",async function(n){if(n.preventDefault(),c=s.value.trim(),c==="")return;t.classList.add("is-hidden"),i=1,document.querySelector(".images-container").innerHTML="";const e=await d(c,i);f=e.totalHits,l(e.hits),e.hits.length>=15&&t.classList.remove("is-hidden"),e.hits.length<15&&(t.classList.add("is-hidden"),u()),h()}),t.addEventListener("click",async function(){i++;const n=await d(c,i);l(n.hits),n.hits.length>=15&&t.classList.remove("is-hidden"),(n.hits.length<15||n.hits.length===f)&&(t.classList.add("is-hidden"),u()),h()})});function h(){const t=document.querySelector(".images-container img");if(t){const o=t.getBoundingClientRect().height;window.scrollBy({top:o*2,behavior:"smooth"})}}
//# sourceMappingURL=index.js.map
