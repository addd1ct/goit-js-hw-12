import{a as f}from"./assets/vendor-N5iQpiFS.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();const p="48228691-89796883a04c0782a049fa841",g="https://pixabay.com/api/";async function d(t,n=1,s=15){const r=`${g}?key=${p}&q=${encodeURIComponent(t)}&image_type=photo&orientation=horizontal&safesearch=true&page=${n}&per_page=${s}`;try{return(await f.get(r)).data}catch(e){throw console.err("Error fetching data:",e),error}}function l(t){const n=document.querySelector(".images-container");t.forEach(s=>{const r=document.createElement("img");r.src=s.webformatURL,r.alt=s.tags,n.appendChild(r)})}function u(){const t=document.querySelector(".container"),n=document.createElement("p");n.textContent="We're sorry, but you've reached the end of search results.",t.appendChild(n)}let i=1,c="",h=0;document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".load-more"),n=document.querySelector(".search-form"),s=document.querySelector(".search-input");t.classList.add("is-hidden"),n.addEventListener("submit",async r=>{if(r.preventDefault(),c=s.value.trim(),c==="")return;t.classList.add("is-hidden"),i=1,document.querySelector(".images-container").innerHTML="";const e=await d(c,i);h=e.totalHits,l(e.hits),e.hits.length>=15&&t.classList.remove("is-hidden"),e.hits.length<15&&(t.classList.add("is-hidden"),u()),m()}),t.addEventListener("click",async()=>{i+=1;const r=await d(c,i);l(r.hits),r.hits.length>=15&&t.classList.remove("is-hidden"),(r.hits.length<15||r.hits.length===h)&&(t.classList.add("is-hidden"),u()),m()})});function m(){const t=document.querySelector(".images-container img");if(t){const n=t.getBoundingClientRect().height;window.scrollBy({top:n*2,behavior:"smooth"})}}
//# sourceMappingURL=index.js.map
